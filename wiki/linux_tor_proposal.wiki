Code that should be added to line 29 in TorLoader.java

{{{
				// check if windows
				if ( System.getProperty("os.name").startsWith("Windows") ) {
					// if so, then start tor.exe with torrc.txt
					ProcessBuilder pb = new ProcessBuilder(new String[] {
							"Tor/tor.exe", "-f", "torrc.txt"
					});
				
				// if not windows, then use portable linux start up routine
				} else {
					// Make tor.sh executable - Should I do this? or is there a more direct way to chmod?
					changePermissions=Runtime.getRuntime().exec("chmod 0700 Tor/tor.sh");
					changePermissions.waitFor(); // I think this is optional, but should be kept to ensure that tor.sh is actually executable
					// execute tor.sh now
					ProcessBuilder pb = new ProcessBuilder(new String[] {
							"Tor/tor.sh", "", ""
					});
				} 

}}}

to replace

{{{
					ProcessBuilder pb = new ProcessBuilder(new String[] {
							"Tor/tor.exe", "-f", "torrc.txt"
					});
}}}

The tor.sh has
{{{
#!/bin/sh

trap 'kill -15 `cat tor.pid`' 15 #when this script closes, kill tor hidden service

export PATH=$PATH:/usr/sbin # set some path var - not sure what it does
tor -f torrc.txt --PidFile tor.pid & # start linux tor with torrc.txt
wait # wait forever
}}}