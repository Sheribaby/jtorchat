Code that should be added to line 29 in TorLoader.java
{{{
                ProcessBuilder pb=null;
                String os = System.getProperty("os.name").toLowerCase(); // Operating System details as a CASE INSENSTIVE string
            	Logger.log(Logger.NOTICE, "TorLoader ", "Checking OS: "+os);
				/*
				 *  check if windows and config via processbuilder
				 */
				if (os.indexOf("win") >= 0) {
	            	Logger.log(Logger.NOTICE, "TorLoader", "Start portable tor in windows");
			        // if so, then start tor.exe with torrc.txt
			        pb = new ProcessBuilder(new String[] {
			                        "Tor/tor.exe", "-f", "torrc.txt"
			        });
				/*
				 *  check if linux or unix and config via processbuilder
				 */
				} else if(os.indexOf("nix") >= 0 || os.indexOf("nux") >= 0) {
	            	Logger.log(Logger.NOTICE, "TorLoader", "Start portable tor in *nix or linux");
			        // Make tor.sh executable - Should I do this? or is there a more direct way to chmod?
			        Process changePermissions;
                    try {
                        changePermissions = Runtime.getRuntime().exec("chmod 0700 Tor/tor.sh");
                        changePermissions.waitFor();                    
		            } catch (IOException e1) {
		            	Logger.log(Logger.NOTICE, "TorLoader", "Error: chmod permission fail: "+e1.getLocalizedMessage());
                    } catch (InterruptedException e) {
                    }
			        // execute tor.sh now
			        pb = new ProcessBuilder(new String[] {
			                        "Tor/tor.sh"
			        });
				} 
				/*
				 *      execute portable tor
				 */
}}}

to replace

{{{
					ProcessBuilder pb = new ProcessBuilder(new String[] {
							"Tor/tor.exe", "-f", "torrc.txt"
					});
}}}

The tor.sh has
{{{
#!/bin/sh

trap 'kill -15 `cat tor.pid`' 15 #when this script closes, kill tor hidden service

export PATH=$PATH:/usr/sbin # set some path var - not sure what it does
tor -f torrc.txt --PidFile tor.pid & # start linux tor with torrc.txt
wait # wait forever
}}}